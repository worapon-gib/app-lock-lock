(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53eee02e"],{"0fd9":function(t,e,s){"use strict";s("4b85");var a=s("2b0e"),i=s("d9f7"),c=s("80d2");const o=["sm","md","lg","xl"],n=["start","end","center"];function r(t,e){return o.reduce((s,a)=>(s[t+Object(c["q"])(a)]=e(),s),{})}const l=t=>[...n,"baseline","stretch"].includes(t),d=r("align",()=>({type:String,default:null,validator:l})),u=t=>[...n,"space-between","space-around"].includes(t),h=r("justify",()=>({type:String,default:null,validator:u})),g=t=>[...n,"space-between","space-around","stretch"].includes(t),v=r("alignContent",()=>({type:String,default:null,validator:g})),m={align:Object.keys(d),justify:Object.keys(h),alignContent:Object.keys(v)},f={align:"align",justify:"justify",alignContent:"align-content"};function _(t,e,s){let a=f[t];if(null!=s){if(e){const s=e.replace(t,"");a+="-"+s}return a+="-"+s,a.toLowerCase()}}const p=new Map;e["a"]=a["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:l},...d,justify:{type:String,default:null,validator:u},...h,alignContent:{type:String,default:null,validator:g},...v},render(t,{props:e,data:s,children:a}){let c="";for(const i in e)c+=String(e[i]);let o=p.get(c);if(!o){let t;for(t in o=[],m)m[t].forEach(s=>{const a=e[s],i=_(t,s,a);i&&o.push(i)});o.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),p.set(c,o)}return t(e.tag,Object(i["a"])(s,{staticClass:"row",class:o}),a)}})},"364f":function(t,e,s){},"4b85":function(t,e,s){},"62ad":function(t,e,s){"use strict";s("4b85");var a=s("2b0e"),i=s("d9f7"),c=s("80d2");const o=["sm","md","lg","xl"],n=(()=>o.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),r=(()=>o.reduce((t,e)=>(t["offset"+Object(c["q"])(e)]={type:[String,Number],default:null},t),{}))(),l=(()=>o.reduce((t,e)=>(t["order"+Object(c["q"])(e)]={type:[String,Number],default:null},t),{}))(),d={col:Object.keys(n),offset:Object.keys(r),order:Object.keys(l)};function u(t,e,s){let a=t;if(null!=s&&!1!==s){if(e){const s=e.replace(t,"");a+="-"+s}return"col"!==t||""!==s&&!0!==s?(a+="-"+s,a.toLowerCase()):a.toLowerCase()}}const h=new Map;e["a"]=a["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...n,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...l,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:s,children:a,parent:c}){let o="";for(const i in e)o+=String(e[i]);let n=h.get(o);if(!n){let t;for(t in n=[],d)d[t].forEach(s=>{const a=e[s],i=u(t,s,a);i&&n.push(i)});const s=n.some(t=>t.startsWith("col-"));n.push({col:!s||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),h.set(o,n)}return t(e.tag,Object(i["a"])(s,{class:n}),a)}})},8726:function(t,e,s){"use strict";s("364f")},9320:function(t,e,s){t.exports=s.p+"img/icon_Bluetooth.a878f41e.png"},f4a9:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-container",[""!=this.$store.state.check_state?a("v-card",{staticClass:"mx-auto white hidden-sm-and-down",staticStyle:{"border-radius":"25px"},attrs:{elevation:"0","max-width":"680px",flat:"","max-height":"500px"}},[a("v-row",{staticClass:"mt-3 pt-8 pr-5",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"ml-1",attrs:{cols:"3",align:"center"}},[a("v-img",{attrs:{src:s("9320"),"max-height":"140px","max-width":"120px",contain:""}})],1),a("v-col",{staticClass:"pl-0",attrs:{cols:"8",align:"center"}},[a("v-card",{staticClass:"mb-3 pa-2 pt-4",staticStyle:{"border-radius":"20px"},attrs:{outlined:""}},["oneboxaccess"===this.user_login?a("h1",{staticClass:"pa-0 ml-3 black--text font-weight-bold truncatecus"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"green",large:""}},[t._v("mdi-package-variant")]),t._v(" Box Lock ")],1):t._e(),"onedooraccess"===this.user_login?a("h1",{staticClass:"pa-0 ml-3 black--text font-weight-bold truncatecus"},[a("v-icon",{staticClass:"mr-5",attrs:{color:"green","x-large":""}},[t._v("mdi-door-closed-lock")]),t._v(" Door Lock system ")],1):t._e()]),a("h1",{staticClass:"pa-0 ml-3 black--text font-weight-bold truncatecus"},[t._v(" "+t._s(t.date_name_device)+" ")]),a("h2",{staticClass:"pa-0 ml-3 grey--text font-weight-black truncatecus"},[t._v(" "+t._s("ID :"+t.date_id_device)+" ")])],1)],1),a("v-divider",{staticClass:"mx-10 mt-10",attrs:{inset:""}}),a("v-row",{staticClass:"mt-1 pb-2 pl-0",attrs:{align:"right",justify:"center"}},[a("v-col",{staticClass:"ml-16 mt-1",attrs:{align:"left"}},[a("v-card-text",{staticClass:"font-weight-black",staticStyle:{"font-size":"25px"}},[t._v("Status : "),a("v-icon",{staticClass:"ml-8",attrs:{large:"",color:"connect"==this.$store.state.status?"grey":"blue"}},[t._v(" "+t._s(this.status_icon)+" ")])],1)],1),a("v-col",{staticClass:"pl-0 mr-7",attrs:{align:"right"}},[a("v-btn",{staticClass:"white--text mr-2 mt-3",staticStyle:{width:"175px",height:"50px","border-radius":"13px"},attrs:{loading:t.loading,color:"connect"==this.$store.state.status?"green":"red"},on:{click:function(e){return t.Status_connect_dis_Device()}}},[t._v(" "+t._s(this.$store.state.status)+" "),a("v-icon",{staticClass:"ml-2"},[t._v(t._s(this.status_icon_btn))])],1)],1)],1)],1):t._e(),"disconnect"==this.$store.state.status&&""!=this.$store.state.check_state?a("v-card",{staticClass:"mx-auto white mt-9 hidden-sm-and-down",staticStyle:{"border-radius":"25px"},attrs:{elevation:"0","max-width":"680px",flat:"","max-height":"500px"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"ml-6 mt-5",attrs:{align:"left"}},[a("span",{staticClass:"font-weight-black overline"},[t._v("Click button below to UNLOCK : "),a("v-icon",{staticClass:"ml-2",attrs:{large:"",color:"lock"==this.status_lock?"red":"green"}},[t._v(" "+t._s(this.statuslock_icon)+" ")])],1)])],1),a("v-row",{staticClass:"pt-2 mt-3",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},["onedooraccess"===this.user_login?a("v-btn",{staticClass:"mx-2",style:"lock"==this.status_lock?"height: 200px; width: 200px; background: linear-gradient(to right, #e52d27, #b31217);":"height: 200px; width: 200px;  background: linear-gradient(to right, #56ab2f, #9dd955);",attrs:{fab:"",dark:""},on:{click:function(e){return t.connectDeviceAndCacheCharacteristics_doorlock()}}},[a("v-icon",{attrs:{dark:"",size:"90px",color:"white"}},[t._v(t._s(this.statuslock_icon))])],1):t._e(),"oneboxaccess"===this.user_login?a("v-btn",{staticClass:"mx-2",style:"lock"==this.status_lock?"height: 200px; width: 200px; background: linear-gradient(to right, #e52d27, #b31217);":"height: 200px; width: 200px;  background: linear-gradient(to right, #56ab2f, #9dd955);",attrs:{fab:"",dark:""},on:{click:function(e){return t.connectDeviceAndCacheCharacteristics_boxlock()}}},[a("v-icon",{attrs:{dark:"",size:"90px",color:"white"}},[t._v(t._s(this.statuslock_icon))])],1):t._e()],1)],1),a("v-divider",{staticClass:"ma-2 mt-5 black mx-8"}),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-1",attrs:{align:"center"}},[a("span",{staticClass:"font-weight-black overline",attrs:{color:"lock"==this.status_lock?"red":"green"}},[t._v("Status : "+t._s(this.status_lock)+" ")])])],1)],1):t._e(),""!=this.$store.state.check_state?a("v-card",{staticClass:"mx-auto white mt-5 hidden-md-and-up",staticStyle:{"border-radius":"25px"},attrs:{elevation:"0","max-width":"380px",flat:"","max-height":"350px"}},[a("v-row",{staticClass:"pt-3 pr-5",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"ml-1",attrs:{cols:"3",align:"center"}},[a("v-img",{attrs:{src:s("9320"),"max-height":"130px","max-width":"65px",contain:""}})],1),a("v-col",{attrs:{cols:"6"}},[a("div",{staticClass:"ml-1 overline"},[t._v("Devicename :")]),a("v-card-title",{staticClass:"truncatecus pa-0 ml-1 black--text font-weight-black"},[t._v(t._s(t.date_name_device))]),a("v-card-title",{staticClass:"truncatecus pa-0 ml-1 grey--text font-weight-black body-2"},[t._v(t._s(t.date_id_device))])],1),a("v-col",{attrs:{cols:"2"}},[a("v-icon",{staticClass:"pr-1",attrs:{color:"green",size:"65px"}},[t._v("mdi-package-variant")]),"onedoorlock"===this.user_login?a("h1",{staticClass:"pa-0 ml-3 black--text font-weight-bold truncatecus"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"green",large:""}},[t._v("mdi-door-closed-lock")]),t._v(" Door Lock ")],1):t._e()],1)],1),a("v-divider",{staticClass:"mx-10 mt-5",attrs:{inset:""}}),a("v-row",{staticClass:"mt-1 pb-2 pl-0",attrs:{align:"right",justify:"center"}},[a("v-col",{staticClass:"ml-6 mt-1",attrs:{align:"left"}},[a("span",{staticClass:"font-weight-black overline"},[t._v("Status : "),a("v-icon",{staticClass:"ml-2",attrs:{color:"connect"==this.$store.state.status?"grey":"blue"}},[t._v(" "+t._s(this.status_icon)+" ")])],1)]),a("v-col",{staticClass:"pl-0 mr-7",attrs:{align:"right"}},[a("v-btn",{staticClass:"white--text mr-2",staticStyle:{width:"155px",height:"40px","border-radius":"13px"},attrs:{loading:t.loading,color:"connect"==this.$store.state.status?"green":"red"},on:{click:function(e){return t.Status_connect_dis_Device()}}},[t._v(" "+t._s(this.$store.state.status)+" "),a("v-icon",{staticClass:"ml-2"},[t._v(t._s(this.status_icon_btn))])],1)],1)],1)],1):t._e(),"disconnect"==this.$store.state.status&&""!=this.$store.state.check_state?a("v-card",{staticClass:"mx-auto white mt-8 hidden-md-and-up",staticStyle:{"border-radius":"25px"},attrs:{elevation:"0",loading:t.loading,"max-width":"380px","max-height":"400px",flat:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"ml-6 mt-3",attrs:{align:"left"}},[a("span",{staticClass:"font-weight-black overline"},[t._v("Click button below to UNLOCK : "),a("v-icon",{staticClass:"ml-2",attrs:{color:"lock"==this.status_lock?"red":"green"}},[t._v(" "+t._s(this.statuslock_icon)+" ")])],1)])],1),a("v-row",{staticClass:"pt-2",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},["onedooraccess"===this.user_login?a("v-btn",{staticClass:"mx-2",style:"lock"==this.status_lock?"height: 200px; width: 200px; background: linear-gradient(to right, #e52d27, #b31217);":"height: 200px; width: 200px;  background: linear-gradient(to right, #56ab2f, #9dd955);",attrs:{fab:"",dark:""},on:{click:function(e){return t.connectDeviceAndCacheCharacteristics_doorlock()}}},[a("v-icon",{attrs:{dark:"",size:"90px",color:"red"}},[t._v(t._s(this.statuslock_icon))])],1):t._e(),"oneboxaccess"===this.user_login?a("v-btn",{staticClass:"mx-2",style:"lock"==this.status_lock?"height: 200px; width: 200px; background: linear-gradient(to right, #e52d27, #b31217);":"height: 200px; width: 200px;  background: linear-gradient(to right, #56ab2f, #9dd955);",attrs:{fab:"",dark:""},on:{click:function(e){return t.connectDeviceAndCacheCharacteristics_boxlock()}}},[a("v-icon",{attrs:{dark:"",size:"90px",color:"white"}},[t._v(t._s(this.statuslock_icon))])],1):t._e()],1)],1),a("v-divider",{staticClass:"ma-2 mt-5 black mx-8"}),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-1 pa-0",attrs:{align:"center"}},[a("v-card-text",{staticClass:"font-weight-black overline",attrs:{color:"lock"==this.status_lock?"red":"green"}},[t._v("Status : "+t._s(this.status_lock)+" ")])],1)],1)],1):t._e()],1)],1)},i=[],c=s("3d20"),o=s.n(c),n={name:"Home",components:{},data:()=>({array_device:[],Devicename:"Device Name:",Deviceid:"ID:",loading:!1,user_login:"",check_data:"",bluetoothDevice:null,statusCharacteristic:null,server:null,service:null,characteristic:null,dialog_Loading:!0,otp_admin:"123454",name:"",id:"",status:"connect",status_icon:"mdi-bluetooth-off",status_icon_btn:"mdi-arrow-right-circle",status_lock:"lock",statuslock_icon:"mdi-lock-outline",devicegatt:null,backgroung_state_device:"background: linear-gradient(to right, #e52d27, #b31217);",checkserver:""}),mounted:{},computed:{date_name_device(){var t=this.$store.state.name_device.name;return t},date_id_device(){var t=this.$store.state.name_device.id;return t}},created(){this.get_user_login(),this.ScanDevice(),this.clean_state()},methods:{ScanDevice(){return(this.bluetoothDevice?Promise.resolve():this.requestDevice()).catch(t=>{console.log("Argh! "+t),o.a.fire({icon:"error",text:"Please scan again!"})})},clean_state(){var t="";this.$store.commit("check_state",t)},requestDevice(){return"onedooraccess"===this.user_login?(console.log("Requesting any Bluetooth Device..."),console.log("onedooraccess----\x3e"),navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["1fb32be3-958f-463c-893e-f9e33911f256"]}).then(t=>{var e="show";this.bluetoothDevice=t,this.$store.commit("data_device",t),this.$store.commit("check_state",e)})):"oneboxaccess"===this.user_login?(console.log("Requesting any Bluetooth Device..."),console.log("oneboxaccess----\x3e"),navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:[65280]}).then(t=>{var e="show";this.bluetoothDevice=t,this.$store.commit("data_device",t),this.$store.commit("check_state",e)})):void console.log("no user_login")},connectDeviceAndCacheCharacteristics_doorlock(){if("lock"==this.status_lock)return this.status_lock="unlock",this.statuslock_icon="mdi-lock-open-outline",this.bluetoothDevice.gatt.connected&&this.statusCharacteristic?Promise.resolve():this.bluetoothDevice.gatt.connect().then(t=>{if(console.log("server---\x3e"),console.log(t.getPrimaryService("1fb32be3-958f-463c-893e-f9e33911f256").Promise),null!=t.getPrimaryService("1fb32be3-958f-463c-893e-f9e33911f256").Promise)return this.checkserver="connectserver",t.getPrimaryService("1fb32be3-958f-463c-893e-f9e33911f256");o.a.fire({icon:"error",text:"Server is null or empty"})}).then(t=>(console.log("service---\x3e"),console.log(this.checkserver),t.getCharacteristic("da467c88-9e6a-4d73-8f15-1dca6bc67419"))).then(t=>{console.log("characteristicr---\x3e");const e=new TextEncoder("utf-8"),s=e.encode(this.otp_admin);t.writeValue(s),"connectserver"===this.checkserver&&(this.$message.loading("Unlock Device...",1.5).then(()=>this.$message.success("Unlock success",1.5)),this.Timeout_StatusLock_unlock())})},connectDeviceAndCacheCharacteristics_boxlock(){if(console.log("connectDeviceAndCacheCharacteristics_boxlock"),"lock"==this.status_lock)return this.status_lock="unlock",this.statuslock_icon="mdi-lock-open-outline",this.bluetoothDevice.gatt.connected&&this.statusCharacteristic?Promise.resolve():this.bluetoothDevice.gatt.connect().then(t=>{if(console.log("server---\x3e"),console.log(t),null!=t.getPrimaryService(65280))return this.checkserver="connectserver",t.getPrimaryService(65280);o.a.fire({icon:"error",text:"Server is null or empty"})}).then(t=>(console.log("service---\x3e"),t.getCharacteristic(65281))).then(t=>{console.log("characteristicr---\x3e");new TextEncoder("utf-8");t.writeValue(new Uint8Array([0,6,204,89,81,60,76,170,97,22,211,75,247,16,0,177,46,248])),console.log("-------\x3e",this.checkserver),"connectserver"===this.checkserver&&(this.$message.loading("Unlock Device...",1.5).then(()=>this.$message.success("Unlock success",1.5)),this.Timeout_StatusLock_unlock())})},Status_connect_dis_Device(){if(this.bluetoothDevice=this.$store.state.name_device,"connect"==this.$store.state.status)if(null!=this.bluetoothDevice){this.bluetoothDevice.gatt.connect(),this.devicegatt=this.bluetoothDevice.gatt.connect(),this.$message.loading("Connect to Device...",1.5).then(()=>this.$message.success("Connect Success",2)),this.status_icon_btn="mdi-close-circle";var t="disconnect";this.$store.commit("status",t),this.status_icon="mdi-bluetooth-connect",this.loading=!1}else o.a.fire({icon:"error",title:"Someting error occured !!",text:"Please Scan and Pair again"});else if("disconnect"==this.$store.state.status){this.bluetoothDevice.gatt.disconnect(),this.$message.loading("Disconnect to Device...",1.5).then(()=>this.$message.success("Disconnect Success",2)),this.status_icon_btn="mdi-arrow-right-circle";t="connect";this.$store.commit("status",t),this.status_icon="mdi-bluetooth-off",this.loading=!1}},Timeout_StatusLock_unlock(){console.log(this.checkserver),"connectserver"===this.checkserver?setTimeout(()=>(this.status_lock="lock",this.statuslock_icon="mdi-lock-outline",this.$message.loading("Action Lock..",1.5).then(()=>this.$message.error("Lock success",2.5))),8e3):console.log("else")},get_user_login(){let t=JSON.parse(window.localStorage.getItem("user_login_oneaccess"));this.user_login=null===t?"":t}}},r=n,l=(s("8726"),s("2877")),d=s("6544"),u=s.n(d),h=s("8336"),g=s("b0af"),v=s("99d9"),m=s("62ad"),f=(s("20f6"),s("4b85"),s("2b0e"));function _(t){return f["default"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:s,data:a,children:i}){a.staticClass=`${t} ${a.staticClass||""}`.trim();const{attrs:c}=a;if(c){a.attrs={};const t=Object.keys(c).filter(t=>{if("slot"===t)return!1;const e=c[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(a.staticClass+=" "+t.join(" "))}return s.id&&(a.domProps=a.domProps||{},a.domProps.id=s.id),e(s.tag,a,i)}})}var p=s("d9f7"),b=_("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:s,children:a}){let i;const{attrs:c}=s;return c&&(s.attrs={},i=Object.keys(c).filter(t=>{if("slot"===t)return!1;const e=c[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(s.domProps=s.domProps||{},s.domProps.id=e.id),t(e.tag,Object(p["a"])(s,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(i||[])}),a)}}),k=s("ce7e"),x=s("132d"),C=s("adda"),w=s("0fd9"),y=Object(l["a"])(r,a,i,!1,null,"e8938eda",null);e["default"]=y.exports;u()(y,{VBtn:h["a"],VCard:g["a"],VCardText:v["b"],VCardTitle:v["c"],VCol:m["a"],VContainer:b,VDivider:k["a"],VIcon:x["a"],VImg:C["a"],VRow:w["a"]})}}]);
//# sourceMappingURL=chunk-53eee02e.a0af708e.js.map